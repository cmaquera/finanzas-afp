<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>AFP - Emulator</title>
        <link rel="stylesheet" href="css/style.css" type="text/css" />
    </head>
    <body>
        <h1>AFP algorithm</h1>       
        <script>
            var sexo = 'Femenino';
            var edad = 25;
            var sueldo = 3100;
            var aporte = 820;
            var fondo = 2;
            var edad_retiro = 55;


            const CRU_hombre_55 = 187.61608; //sin cónyuge
            const CRU_hombre_60 = 168.72462;
            const CRU_hombre_65 = 148.15048;
            const CRU_hombre_70 = 126.92324;

            const CRU_mujer_55 = 205.39545; //sin cónyuge
            const CRU_mujer_60 = 187.84711;
            const CRU_mujer_65 = 168.07431;
            const CRU_mujer_70 = 146.57645;

            function tasa_mensual(fondo){
                if(fondo==1){
                    renta=0.04; 
                    tasa_interes=0.03;
                    return (Math.pow((1+renta+tasa_interes), (30/360)))-1;

                }                
                else if(fondo==2){
                    renta=0.05; 
                    tasa_interes=0.02;
                    return (Math.pow((1+renta+tasa_interes), (30/360)))-1;
                }                
                else if(fondo==3){
                    renta=0.06; 
                    tasa_interes=0.02;
                    return (Math.pow((1+renta+tasa_interes), (30/360)))-1;
                }
                return null;
            }           
            

            function fondo_acumulado(tasa_mensual, sueldo, aporte, edad_retiro, edad){
                return (0.10*sueldo*(((Math.pow((1+tasa_mensual), ((edad_retiro-edad)*aporte)))-1)/(tasa_mensual))+sueldo*(Math.pow((1+tasa_mensual), ((edad_retiro-edad)*aporte))));
            }

            function pension(fondo_acumulado){
                var pension = null;
                if(edad_retiro==55 && sexo=="Masculino")
                    pension=fondo_acumulado/CRU_hombre_55;
                else if(edad_retiro==55 && sexo=="Femenino")
                    pension=fondo_acumulado/CRU_mujer_55;

                if(edad_retiro==55 && sexo=="Masculino")
                    pension=fondo_acumulado/CRU_hombre_60;
                else if(edad_retiro==55 && sexo=="Femenino")
                    pension=fondo_acumulado/CRU_mujer_60;

                if(edad_retiro==55 && sexo=="Masculino")
                    pension=fondo_acumulado/CRU_hombre_65;
                else if(edad_retiro==55 && sexo=="Femenino")
                    pension=fondo_acumulado/CRU_mujer_65;

                if(edad_retiro==55 && sexo=="Masculino")
                    pension=fondo_acumulado/CRU_hombre_70;
                else if(edad_retiro==55 && sexo=="Femenino")
                    pension=fondo_acumulado/CRU_mujer_70;
                return pension;
            }

            console.log("RESULTS")
            console.log("Pension es: " + pension(fondo_acumulado(tasa_mensual(fondo), sueldo, aporte, edad_retiro, edad)))
            console.log("Monto acumulado es: " + fondo_acumulado(tasa_mensual(fondo), sueldo, aporte, edad_retiro, edad))
            



        </script>
    </body>
</html>